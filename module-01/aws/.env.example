# LocalStack Environment Configuration
# Copy this file to .env and adjust values as needed
# Command: cp .env.example .env

# ============================================================================
# Container Configuration
# ============================================================================

# Container name for LocalStack
LOCALSTACK_CONTAINER_NAME=localstack-main

# Docker image to use (localstack/localstack or localstack/localstack-pro)
LOCALSTACK_IMAGE=localstack/localstack:latest

# CPU limit for LocalStack container (adjust based on your system)
# Examples: 1.0, 2.0, 4.0
LOCALSTACK_CPU_LIMIT=2.0

# Memory limit for LocalStack container
# Examples: 1g, 2g, 4g, 8g
LOCALSTACK_MEMORY_LIMIT=2g

# ============================================================================
# Network Configuration
# ============================================================================

# Edge port for LocalStack (default: 4566)
LOCALSTACK_EDGE_PORT=4566

# DNS address (0 for default, or specify DNS server)
DNS_ADDRESS=0

# Docker socket path (for Docker-in-Docker, required for Lambda/ECS)
# Linux/macOS: Leave empty to use default (/var/run/docker.sock)
# Windows with Docker Desktop: Use the default or set to //./pipe/docker_engine
# Note: On Windows, you may need to adjust this based on your Docker Desktop configuration
DOCKER_SOCKET_PATH=

# ============================================================================
# Services Configuration
# ============================================================================

# Comma-separated list of AWS services to enable
# Examples: all, s3,lambda,dynamodb,kinesis,iam,apigateway,sns,sqs,logs
# Use 'all' to enable all available services
LOCALSTACK_SERVICES=all

# ============================================================================
# Persistence Configuration
# ============================================================================

# Enable persistence (0 or 1)
# Set to 1 to persist data across container restarts
PERSISTENCE=1

# Directory for LocalStack data inside the container
LOCALSTACK_DATA_DIR=/tmp/localstack/data

# Note: Data is now stored in a Docker volume named 'localstack-data'
# To view the volume: docker volume ls
# To inspect the volume: docker volume inspect localstack-data
# To remove the volume: docker volume rm localstack-data (after stopping container)

# ============================================================================
# Lambda Configuration
# ============================================================================

# Lambda executor type
# Options: docker, docker-reuse, local
# - docker: Create new container for each invocation
# - docker-reuse: Reuse containers (faster, but may have state issues)
# - local: Execute in the same container
LAMBDA_EXECUTOR=docker

# ============================================================================
# Debug Configuration
# ============================================================================

# Enable debug mode (0 or 1)
# Set to 1 for verbose logging
DEBUG=0

# Enable/disable SSL certificate verification (for development)
# Set to 1 to disable SSL checks (useful for local development)
DISABLE_SSL_CHECKS=1

# Enforce SSL verification (set to 1 for production-like behavior)
ENFORCE_SSL_CHECKS=0

# ============================================================================
# Additional Configuration
# ============================================================================

# Return empty responses instead of errors for missing resources
EMPTY_PORT_ON_START=1

# Enable legacy provider flags (for compatibility with older LocalStack versions)
LOCALSTACK_PROVIDER_LEGACY_FLAGS=1

# ============================================================================
# LocalStack Pro (Optional - requires paid plan)
# ============================================================================

# LocalStack Pro authentication token
# Sign up at: https://localstack.cloud/
# Get your token from: https://app.localstack.cloud/account/
# LOCALSTACK_AUTH_TOKEN=your_auth_token_here

# ============================================================================
# Notes
# ============================================================================

# 1. After copying this file to .env, you can start LocalStack with:
#    docker compose up -d
#
# 2. View logs with:
#    docker compose logs -f localstack
#
# 3. Stop LocalStack with:
#    docker compose down
#
# 4. Check health status:
#    curl http://localhost:4566/_localstack/health
#
# 5. List S3 buckets:
#    aws --endpoint-url=http://localhost:4566 s3 ls
#
# 6. For more configuration options, see:
#    https://docs.localstack.cloud/references/configuration/
